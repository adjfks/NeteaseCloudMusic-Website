import{y as f,e as m,o as e,j as a,A as s,s as w,G as g,n as P,r as L,f as $,aD as U,F as h,B as y,l as u,k as i,J as T,L as b,aH as B,C as x,aF as D,bs as E,m as S,ab as j,M as F,N as V}from"./index.6b231b00.js";import{l as z,m as M,E as O,a as R,t as A}from"./transformList.6a3884c9.js";const G={class:"msg"},H={class:"name"},J={class:"artist"},K=m({name:"SongItem",props:{rank:{type:Number,required:!0},name:{type:String,required:!0},art:{type:String,required:!0},bg:{type:String,default:"#fff"},height:{type:String,default:"40px"}},setup(t){return(n,r)=>(e(),a("div",{class:"song-item-container",style:P({background:t.bg,height:t.height})},[s("div",G,[s("span",{class:w(["rank",{"theme-color":t.rank<4}])},g(t.rank),3),s("span",H,g(t.name),1)]),s("div",J,g(t.art),1)],4))}});var Q=f(K,[["__scopeId","data-v-47f86835"]]);const W={class:"songlist-container",ref:"target"},X=m({name:"SongList",props:{id:{type:[Number,String],default:"",required:!0},count:{type:Number,default:5}},setup(t){const n=t,r=L([]);z(n.id).then(c=>{r.value=c.playlist.tracks});const l=$(()=>r.value.slice(0,n.count)),_=U(),o=async c=>{_.replacePlaylist(c.data,c.idx)};return(c,I)=>{const k=Q;return e(),a("div",W,[(e(!0),a(h,null,y(i(l),(d,p)=>(e(),u(k,{key:d.id,name:d.name,rank:p+1,art:d.ar[0].name,bg:p%2===0?"var(--light-gray)":"",onClick:v=>o({data:r.value,idx:p})},null,8,["name","rank","art","bg","onClick"]))),128))],512)}}});var Y=f(X,[["__scopeId","data-v-34fcff9e"]]);const Z={class:"toplist-panel-container"},tt={class:"songlist-container"},et=m({name:"ToplistPanel",props:{list:{type:Object,default:null,required:!0}},setup(t){const n=T();return(r,l)=>{const _=B,o=Y;return e(),a("div",Z,[s("div",{class:"cover-container",onClick:l[0]||(l[0]=()=>{i(n).push(`/playlist/${t.list.id}`)})},[t.list?(e(),u(_,{key:0,picUrl:t.list.coverImgUrl,playCount:t.list.playCount,round:""},null,8,["picUrl","playCount"])):b("",!0)]),s("div",tt,[t.list?(e(),u(o,{key:0,id:t.list.id},null,8,["id"])):b("",!0)])])}}});var st=f(et,[["__scopeId","data-v-0cf250ac"]]);const nt={class:"toplist-card-container hover-up h-cs"},at={class:"cover"},lt={class:"title",text:"3","m-t-2":""},ot=m({name:"ToplistCard",props:{list:{type:Object,default:null,required:!0}},setup(t){return(n,r)=>{const l=B;return e(),a("div",nt,[s("div",at,[x(l,{picUrl:t.list.coverImgUrl,playCount:t.list.playCount,round:"",hoverLayer:"",hoverPlay:""},null,8,["picUrl","playCount"])]),s("div",lt,g(t.list.name),1)])}}});const N=t=>(F("data-v-464922cc"),t=t(),V(),t),rt={class:"toplist-container"},ct={class:"official-toplist"},it=N(()=>s("h3",{class:"toplist-title"},"\u5B98\u65B9\u699C",-1)),ut={class:"global-toplist"},_t=N(()=>s("h3",{class:"toplist-title"},"\u5168\u7403\u699C",-1)),dt=m({name:"Toplist",setup(t){const n=L([]);M().then(o=>{n.value=o.list});const r=$(()=>n.value.slice(0,4)),l=$(()=>{const o=n.value.slice(4);return A(o,Math.ceil(o.length/6))}),_=T();return(o,c)=>{const I=O,k=R,d=D,p=E;return e(),u(d,null,{default:S(()=>[j((e(),a("main",rt,[s("div",ct,[it,(e(!0),a(h,null,y(i(r),v=>(e(),a("div",{class:"panel",key:v.id},[x(st,{list:v},null,8,["list"])]))),128))]),s("div",ut,[_t,i(l).length?(e(!0),a(h,{key:0},y(i(l),(v,q)=>(e(),u(k,{gutter:20,key:q,"ma-4":""},{default:S(()=>[(e(!0),a(h,null,y(v,C=>(e(),u(I,{span:4,key:C.id},{default:S(()=>[x(ot,{list:C,onClick:()=>{i(_).push(`/playlist/${C.id}`)}},null,8,["list","onClick"])]),_:2},1024))),128))]),_:2},1024))),128)):b("",!0)])])),[[p,!n.value.length]])]),_:1})}}});var mt=f(dt,[["__scopeId","data-v-464922cc"]]);export{mt as default};
